<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imaginair</title>
    <!-- Link to our new custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/main.css') }}">
    <!-- p5.js and Mediapipe -->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Main container for content -->
    <div class="container">
        <h1>Imaginair</h1>
        <!-- Instructions can stay simple -->
        <p class="instructions">
            Pinch index and thumb to toggle drawing. Use your fingertip to draw.
            Write a prompt and hit Submit to generate an image.
        </p>

        <!-- Main layout for drawing and result areas -->
        <div class="app-layout">
            <!-- Input/Drawing Area -->
            <div class="canvas-wrapper">
                <h2>Drawing Canvas</h2>
                <div class="canvas-box"> <!-- Container for p5 canvas -->
                    <video class="input_video"></video> <!-- Still needed for mediapipe -->
                    <div id="canvas"></div> <!-- p5 canvas attaches here -->
                </div>
            </div>

            <!-- Output/Result Area -->
            <div class="canvas-wrapper">
                <h2>Result</h2>
                <div class="result-image-container" aria-busy="false"> <!-- Container for result image -->
                    <img id="filetag" src="{{ url_for('static', filename='assets/Rectangle.png') }}" alt="Generated Image Result">
                </div>
            </div>
        </div>

        <!-- Controls Area -->
        <div class="controls" id="ui-controls">
             <!-- p5 elements attach to these divs -->
             <div id="ui-2"></div> <!-- Buttons (Show, Clean, Mode) & Color Picker go here -->
        </div>

        <!-- Prompt Area -->
        <div class="prompt-container">
             <div id="ui"></div> <!-- Prompt input goes here -->
             <div id="submit-button"></div> <!-- Submit button goes here -->
        </div>

    </div> <!-- End of container -->

    <!-- Load JS at the end -->
    <script src="{{ url_for('static', filename='sketch.js') }}"></script>
    <script src="{{ url_for('static', filename='hand_track.js') }}"></script>
</body>
</html>
